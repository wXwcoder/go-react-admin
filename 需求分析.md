# go-react-admin 项目需求分析

## 项目概述

go-react-admin 是一个基于前后端分离架构的管理系统，后端采用 Golang Gin 框架，前端采用 React 框架，数据库使用 MySQL。系统支持多租户架构，配置采用 YAML 格式。主要功能包括权限管理、用户管理、角色管理、菜单管理、API 管理、日志管理等。

## 功能需求

### 1. 权限管理
- 基于 JWT 和 Casbin RBAC 访问控制模型实现权限管理
- 支持用户认证和授权
- 支持细粒度的权限控制

### 2. 用户管理
- 系统管理员可以分配用户角色和角色权限
- 支持用户信息的增删改查
- 支持用户状态管理（启用/禁用）

### 3. 角色管理
- 创建权限控制的主要对象
- 可以为角色分配不同的 API 权限和菜单权限
- 支持角色的增删改查

### 4. 菜单管理
- 实现用户动态菜单配置
- 实现不同角色不同菜单展示
- 支持菜单的层级结构管理
- 支持左侧导航栏动态渲染
- 支持上部tab子页签管理
- 实现菜单与路由的动态映射
- 支持菜单权限的细粒度控制
- 实现菜单缓存机制提升性能

### 5. API 管理
- 不同用户可调用的 API 接口权限不同
- 支持 API 接口的增删改查
- 支持 API 分组管理

### 6. 日志管理
- 登录日志：记录用户登录信息
- 操作日志：记录用户操作行为
- 数据埋点：收集系统运行数据

### 7. 系统配置
- 支持黑白两种主题切换
- 配置采用 YAML 格式
- 支持运行时配置修改

### 8. 多租户支持
- 系统需支持多租户架构
- 不同租户数据隔离
- 租户级别的权限控制

## 菜单管理详细设计

### 1. 菜单数据结构
- 菜单ID、名称、路径、组件、图标、标题
- 父级ID用于层级管理
- 排序字段用于菜单排序
- 隐藏状态控制菜单显示
- 状态字段控制菜单启用/禁用
- 租户ID支持多租户隔离

### 2. 前端菜单组件设计
- **左侧导航栏组件**：根据用户权限动态渲染菜单树
- **上部Tab组件**：管理已打开的页面标签
- **动态路由组件**：根据菜单配置动态生成路由
- **权限守卫组件**：控制页面访问权限

### 3. 权限关联机制
- 角色-菜单关联表(role_menus)实现角色权限控制
- 用户-角色关联表(user_roles)实现用户权限继承
- 支持多租户下的权限隔离
- 实时权限更新机制

### 4. 缓存与性能优化
- 菜单数据前端缓存减少API调用
- 权限数据本地存储提升响应速度
- 路由懒加载优化首屏加载
- 菜单状态持久化存储

## 非功能需求

### 1. 技术架构
- 前后端分离架构
- 后端：Golang + Gin 框架
- 前端：React 框架
- 数据库：MySQL
- 缓存：Redis
- 配置：YAML 格式

### 2. 安全性
- 用户认证与授权
- 数据传输加密
- 防止常见 Web 攻击（XSS、CSRF 等）

### 3. 性能
- 响应时间：页面加载时间不超过 3 秒
- 并发支持：支持至少 1000 并发用户

### 4. 可维护性
- 代码结构清晰，易于维护
- 合理的目录规划
- 完整的文档支持

### 5. 可扩展性
- 模块化设计，便于功能扩展
- 支持插件化架构